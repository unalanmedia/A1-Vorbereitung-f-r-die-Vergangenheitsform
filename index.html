<!DOCTYPE html><html lang=\"de\">
<head>
    <meta charset=\"UTF-8\">
    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">
    <title>Deutsch Grammatik Übung (A1)</title>
    <script src=\"https://cdn.tailwindcss.com\"></script>
    <style>
        .correct { color: green; }
        .wrong { color: red; }
    </style>
</head>
<body class=\"bg-gray-100 p-4\"><div class=\"max-w-xl mx-auto bg-white p-4 rounded-lg shadow-md\">
    <h1 class=\"text-xl font-bold mb-4 text-center\">A1 Übungen zur Vergangenheit</h1>
    <div id=\"quiz-container\"></div>
    <button onclick=\"loadQuestions()\" class=\"mt-4 py-2 px-4 bg-blue-500 text-white rounded\">Übung erneuern</button>
    <div id=\"result\" class=\"mt-4 text-center font-bold\"></div>
</div><script>
let fragen = [
    {satz: \"Ich ___ gestern müde.\", antwort: \"war\", grund: \"'war' is the simple past form of 'sein'.\"},
    {satz: \"Du ___ gestern in der Schule.\", antwort: \"warst\", grund: \"'warst' is the simple past form of 'sein' for 'du'.\"},
    {satz: \"Er ___ einen Hund.\", antwort: \"hatte\", grund: \"'hatte' is the simple past form of 'haben'.\"},
    {satz: \"Ich ___ heute Zeit.\", antwort: \"habe\", grund: \"'habe' is the present form of 'haben' (I have).\"},
    {satz: \"Ich ___ in Berlin.\", antwort: \"bin\", grund: \"'bin' is the present form of 'sein' (I am).\"},
    {satz: \"Gestern ___ ich Hunger.\", antwort: \"hatte\", grund: \"'hatte' is the simple past form of 'haben' (I had).\"},
    {satz: \"Ich ___ jetzt glücklich.\", antwort: \"bin\", grund: \"'bin' is the present form of 'sein' (I am).\"},
    {satz: \"Du ___ heute frei.\", antwort: \"hast\", grund: \"'hast' is the present form of 'haben' for 'du'.\"},
    {satz: \"Letztes Jahr ___ ich in Köln.\", antwort: \"war\", grund: \"'war' is the simple past form of 'sein' (was).\"},
    {satz: \"Ich ___ gestern Kopfschmerzen.\", antwort: \"hatte\", grund: \"'hatte' means 'had' (past form of 'haben').\"}
];

function shuffle(array) {
    return array.sort(() => Math.random() - 0.5);
}

function loadQuestions() {
    document.getElementById('result').innerHTML = '';
    let quizContainer = document.getElementById('quiz-container');
    quizContainer.innerHTML = '';

    let selectedFragen = shuffle(fragen).slice(0,10);

    selectedFragen.forEach((frage, index) => {
        quizContainer.innerHTML += `
            <div class=\"mb-4\">
                <p>${index + 1}. ${frage.satz}</p>
                <select class=\"antwort border rounded p-1\">
                    <option value=\"\">Wähle eine Antwort</option>
                    <option value=\"habe\">habe</option>
                    <option value=\"bin\">bin</option>
                    <option value=\"war\">war</option>
                    <option value=\"hatte\">hatte</option>
                </select>
                <button onclick=\"alert('${frage.grund}')\" class=\"ml-2 text-blue-500\">Info (English)</button>
                <span class=\"feedback\"></span>
            </div>
        `;
    });

    quizContainer.innerHTML += '<button onclick=\"checkAnswers()\" class=\"py-2 px-4 bg-green-500 text-white rounded\">Antworten prüfen</button>';
}

function checkAnswers() {
    let correct = 0;
    let total = document.querySelectorAll('.antwort').length;

    document.querySelectorAll('.antwort').forEach((select, index) => {
        let feedback = select.nextElementSibling.nextElementSibling;
        if (select.value === fragen[index].antwort) {
            feedback.innerHTML = '✔️';
            feedback.className = 'feedback correct ml-2';
            correct++;
        } else {
            feedback.innerHTML = '❌';
            feedback.className = 'feedback wrong ml-2';
        }
    });

    let percentage = (correct / total) * 100;
    let resultDiv = document.getElementById('result');

    if (percentage >= 80) {
        resultDiv.innerHTML = `<button class=\"py-2 px-4 bg-green-500 text-white rounded\">Weiter - Du bist gut! (${percentage}%)</button>`;
    } else if (percentage >= 50) {
        resultDiv.innerHTML = `<button class=\"py-2 px-4 bg-orange-500 text-white rounded\">Mach weiter! (${percentage}%)</button>`;
    } else {
        resultDiv.innerHTML = `<button class=\"py-2 px-4 bg-red-500 text-white rounded\">Du musst mehr üben! (${percentage}%)</button>`;
    }
}

window.onload = loadQuestions;
</script></body>
</html>
